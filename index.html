<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>è‡ºåŒ—é†«å­¸å¤§å­¸é«”è‚²äº‹å‹™è™• - å¿«é€Ÿå•ç­”å°è¦½é </title>
<style>
  /* --- åŸºç¤è¨­å®š --- */
  :root {
    --bg-color: #EEF4ED;
    /* é…’ç´…è‰²ç¶­æŒæ‚¨ä¸Šæ¬¡è¦ºå¾—ä¸éŒ¯çš„è¨­å®š */
    --primary-color: #9E2A44; 
    --primary-light: #c45d73; 
    --text-color: #333;
    --light-bg-accent: #ffffff;
  }

  body {
    background-color: var(--bg-color);
    font-family: system-ui, -apple-system, "Microsoft JhengHei", "Heiti TC", sans-serif;
    margin: 0;
    padding: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    min-height: 100vh;
    color: var(--text-color);
  }

  /* --- Header è¨­å®š (ç¶­æŒä¸è®Š) --- */
  header {
    background-color: var(--bg-color);
    width: 100%;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 0 0 20px 0; 
    margin-bottom: 10px;
  }

  .header-content {
    width: 100%; 
    text-align: center;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  .header-banner {
    width: 100%;
    height: auto;
    display: block;
    object-fit: cover; 
  }

  /* --- ç¤ºç¯„å€å¡Š (ç¶­æŒä¸è®Š) --- */
  .subtitle-container {
    margin-top: -5px;
    width: 100%;
    display: flex;
    justify-content: center;
    padding: 10px 20px;
    box-sizing: border-box;
  }

  .subtitle {
    background-color: var(--primary-light); 
    color: white;
    font-size: 1rem;
    font-weight: bold;
    padding: 8px 25px;
    border-radius: 50px;
    display: flex;
    align-items: center;
    gap: 8px;
    box-shadow: 0 2px 5px rgba(158, 42, 68, 0.2);
    animation: bounce 2s infinite;
  }

  @keyframes bounce {
    0%, 20%, 50%, 80%, 100% {transform: translateY(0);}
    40% {transform: translateY(-5px);}
    60% {transform: translateY(-3px);}
  }

  /* --- è³½é“å®¹å™¨ --- */
  .stadium-container {
    position: relative;
    width: 100%;
    max-width: 600px;
    padding: 0 20px 120px 20px;
    box-sizing: border-box;
  }

  /* --- ã€ä¿®æ”¹é‡é» 1ã€‘è·‘è€…åœ–ç‰‡è¨­å®š --- */
  #runner {
    position: absolute;
    top: 0;
    left: -80px;
    /* 1. ç¸®å°å°ºå¯¸ */
    width: 50px; 
    height: 50px;
    z-index: 999;
    pointer-events: none;
    /* 2. é è¨­éš±è— */
    opacity: 0; 
    /* å¢åŠ  opacity çš„éæ¸¡å‹•ç•« */
    transition: left 0.8s cubic-bezier(0.25, 1, 0.5, 1), top 0.3s ease, opacity 0.2s ease;
    display: flex;
    justify-content: center;
    align-items: center;
  }

  #runner img {
    width: 100%;
    height: 100%;
    object-fit: contain;
    /* ç‚ºäº†è®“ç¶ è‰²åœ¨ç´…è‰²ä¸Šæ›´æ˜é¡¯ï¼ŒåŠ ä¸€é»ç™½è‰²å…‰æšˆå’Œé™°å½±ï¼Œå¢åŠ å±¤æ¬¡æ„Ÿ */
    filter: drop-shadow(0 2px 3px rgba(0,0,0,0.3)) drop-shadow(0 0 2px rgba(255,255,255,0.5));
  }

  /* --- ã€ä¿®æ”¹é‡é» 2ã€‘è·‘é“é–“è·èª¿æ•´ --- */
  .main-track {
    /* åŠ å¤§ä¸‹æ–¹é–“è·ï¼Œé¨°å‡ºç©ºé–“çµ¦è·‘è€…åœé§ï¼Œé¿å…æ“‹åˆ°ä¸‹ä¸€å€‹è·‘é“ */
    margin-bottom: 50px; 
    border-radius: 15px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    background-color: var(--light-bg-accent);
    overflow: visible; /* ä¿®æ”¹ç‚º visibleï¼Œä»¥é˜²è·‘è€…ç¨å¾®è¶…å‡ºé‚Šç•Œ */
    border: none; 
    position: relative; /* å¢åŠ å®šä½åŸºæº– */
  }

  /* è·‘é“æŒ‰éˆ• (ç¶­æŒä¸è®Š) */
  .track-btn {
    position: relative;
    background-color: var(--primary-color);
    color: white;
    padding: 30px 20px 30px 70px;
    cursor: pointer;
    font-size: 1.35rem;
    font-weight: bold;
    user-select: none;
    letter-spacing: 1px;
    background-image: repeating-linear-gradient(
      90deg,
      transparent,
      transparent 58px,
      rgba(255,255,255,0.25) 60px
    );
    border-bottom: 4px solid rgba(0,0,0,0.1);
    transition: transform 0.1s, filter 0.2s;
    /* ç¢ºä¿åœ“è§’ */
    border-top-left-radius: 15px;
    border-top-right-radius: 15px;
  }
  
  .track-btn:hover {
    filter: brightness(1.1);
  }

  .track-btn:active {
    transform: scale(0.98);
    border-bottom: 2px solid rgba(0,0,0,0.1);
  }

  .lane-num {
    position: absolute;
    left: 20px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 2.5rem;
    opacity: 0.8;
    font-style: italic;
    font-family: 'Arial Black', sans-serif;
    pointer-events: none;
    text-shadow: 2px 2px 0px rgba(0,0,0,0.2);
  }

  /* --- ç¬¬äºŒå±¤ï¼šç´°é …é¸å–®å€ (ç¶­æŒä¸è®Š) --- */
  .sub-menu-panel {
    background-color: var(--light-bg-accent);
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.5s ease-out;
    /* ç¢ºä¿ä¸‹æ–¹åœ“è§’ */
    border-bottom-left-radius: 15px;
    border-bottom-right-radius: 15px;
  }

  .sub-question {
    padding: 18px 25px;
    border-bottom: 1px solid #f0f0f0;
    cursor: pointer;
    color: #444;
    font-weight: bold;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background 0.2s;
    font-size: 1.05rem;
  }

  .sub-question:hover {
    background-color: #fcfcfc;
    color: var(--primary-color);
  }

  .sub-question::after {
    content: '+';
    font-size: 1.4rem;
    color: #ccc;
    font-weight: lighter;
  }

  .sub-question.active {
    background-color: #fff0f3; 
    color: var(--primary-color);
  }
  .sub-question.active::after {
    content: '-';
    color: var(--primary-color);
  }

  .sub-answer {
    max-height: 0;
    overflow: hidden;
    background-color: #fafafa;
    color: #555;
    padding: 0 25px;
    transition: max-height 0.3s ease;
    border-left: 5px solid #d4a5b0;
  }

  .sub-answer p {
    margin: 15px 0;
    line-height: 1.7;
  }
    
  .sub-answer strong {
    color: #a84e57;
  }

  .sub-answer a {
    color: #0077cc;
    font-weight: bold;
    text-decoration: none;
    word-break: break-all;
  }
  .sub-answer a:hover {
    text-decoration: underline;
  }
    
  .notice-text {
    color: #d63031;
    font-weight: bold;
    background-color: #fff0f0;
    padding: 10px;
    border-radius: 5px;
    display: inline-block;
    margin-bottom: 10px;
  }
    
  .gentle-tip {
    font-size: 0.95rem;
    color: #666;
    background-color: #f2f7f9;
    padding: 15px;
    border-radius: 8px;
    margin-top: 15px;
    margin-bottom: 15px;
    border-left: 4px solid #8baebf;
  }
</style>
</head>
<body>

<header>
  <div class="header-content">
    <img src="images/header_bg.png" alt="è‡ºåŒ—é†«å­¸å¤§å­¸é«”è‚²äº‹å‹™è™•" class="header-banner">
    <div class="subtitle-container">
      <div class="subtitle">
        <span>ğŸ”¥ é»é¸è·‘é“ï¼Œå…‰é€Ÿç‚ºæ‚¨è§£ç­”ï¼</span>
      </div>
    </div>
  </div>
</header>

<div class="stadium-container" id="stadium">

  <div id="runner">
    <img src="images/runner.png" alt="Running Man">
  </div>

  <div class="main-track">
    <div class="track-btn" onclick="runAndOpenCategory(this, 'category-venue')">
      <span class="lane-num">1</span>
      é«”è‚²é¤¨å ´é¤¨å•é¡Œ
    </div>
    <div id="category-venue" class="sub-menu-panel">
      <div class="sub-question" onclick="toggleAnswer(this)">å¥èº«æˆ¿é–‹æ”¾æ™‚é–“?</div>
      <div class="sub-answer">
        <p><strong>ğŸ«ä¿¡ç¾©æ ¡å€å¥èº«ä¸­å¿ƒ</strong><br>
        <strong>ã€å­¸æœŸé–“ã€‘</strong><br>
        é€±ä¸€è‡³é€±äº” 15:15 â€“ 21:00<br>
        é€±æœ« 09:15-12:00ã€14:15-17:00<br><br>
        <strong>ã€å¯’ã€æš‘å‡ã€‘</strong><br>
        é€±ä¸€è‡³é€±äº” 18:15 â€“ 21:00<br>
        é€±æœ« 09:15-12:00ã€14:15-17:00</p>
        <hr style="border: 1px dashed #ddd;">
        <p><strong>ğŸ«é›™å’Œæ ¡å€å¥èº«ä¸­å¿ƒ</strong><br>
        <strong>ã€å­¸æœŸé–“ã€‘</strong><br>
        é€±ä¸€è‡³é€±äº” 11:00 â€“ 15:00ã€16:00 â€“ 20:00<br><br>
        <strong>ã€å¯’ã€æš‘å‡ã€‘</strong><br>
        é€±ä¸€è‡³é€±äº” 11:00 â€“ 15:00ã€16:00 â€“ 19:00<br>
        (æš‘æœŸé€±ä¸‰ä¼‘é¤¨)</p>
        <div class="gentle-tip">
          ğŸ’¡ <strong>è²¼å¿ƒå°æé†’ï¼š</strong><br>
          å¦‚é‡åœ‹å®šå‡æ—¥æˆ–ç‰¹æ®Šæ´»å‹•ï¼Œé–‹æ”¾æ™‚é–“å¯èƒ½æœƒé…åˆå½ˆæ€§èª¿æ•´ã€‚<br>
          ç‚ºé¿å…æ‚¨ç™½è·‘ä¸€è¶Ÿï¼Œå»ºè­°å‡ºç™¼å‰ç¢ºèªç•¶æœˆçš„è¡Œäº‹æ›†å…¬å‘Šå–”ï¼<br><br>
          <strong>è¡Œäº‹æ›†é€£çµ (é€²å…¥ç¶²é å¾€ä¸‹æ»‘å³å¯æŸ¥çœ‹)ï¼š</strong><br>
          <a href="https://reurl.cc/1kKdjD" target="_blank">https://reurl.cc/1kKdjD</a>
        </div>
      </div>
      <div class="sub-question" onclick="toggleAnswer(this)">å¥èº«æˆ¿æ”¶è²»æ¨™æº–?</div>
      <div class="sub-answer">
        <p>
          <span class="notice-text">
            âš ï¸ è‡ª 114/12/1 èµ·ï¼Œå…¥å ´ä½¿ç”¨ã€Œæ‚ éŠå¡ã€æ‰£æ¬¾ï¼Œæ•¬è«‹å…ˆå„²å€¼å®Œç•¢ã€‚
          </span>
          <br><br>
          <strong>æ”¶è²»æ¨™æº–å¦‚ä¸‹ï¼š</strong><br>
          â— å­¸ç”Ÿï¼š20 å…ƒ / æ¬¡<br>
          â— æ•™è·å“¡ã€æ ¡å‹ï¼š30 å…ƒ / æ¬¡<br>
          â— æ ¡å¤–äººå£«ï¼š70 å…ƒ / æ¬¡
        </p>
      </div>
      <div class="sub-question" onclick="toggleAnswer(this)">æ³³æ± é–‹æ”¾æ™‚é–“?</div>
      <div class="sub-answer">
        <p>
          <strong>ã€é€±äºŒ è‡³ é€±äº”ã€‘</strong><br>
          06:00 â€“ 09:00<br>
          17:30 â€“ 21:00
        </p>
        <p>
          <strong>ã€é€±å…­ è‡³ é€±æ—¥ã€‘</strong><br>
          06:00 â€“ 11:00<br>
          14:00 â€“ 18:00
        </p>
        <div class="gentle-tip">
          ğŸ’¡ <strong>è²¼å¿ƒå°æé†’ï¼š</strong><br>
          å¦‚é‡åœ‹å®šå‡æ—¥æˆ–ç‰¹æ®Šæ´»å‹•ï¼Œé–‹æ”¾æ™‚é–“å¯èƒ½æœƒé…åˆå½ˆæ€§èª¿æ•´ã€‚<br>
          ç‚ºé¿å…æ‚¨ç™½è·‘ä¸€è¶Ÿï¼Œå»ºè­°å‡ºç™¼å‰ç¢ºèªç•¶æœˆçš„è¡Œäº‹æ›†å…¬å‘Šå–”ï¼<br><br>
          <strong>è¡Œäº‹æ›†é€£çµ (é€²å…¥ç¶²é å¾€ä¸‹æ»‘å³å¯æŸ¥çœ‹)ï¼š</strong><br>
          <a href="https://reurl.cc/NNYk1Q" target="_blank">https://reurl.cc/NNYk1Q</a>
        </div>
      </div>
      <div class="sub-question" onclick="toggleAnswer(this)">æ³³æ± æ”¶è²»æ¨™æº–?</div>
      <div class="sub-answer">
        <p>æ”¶è²»æ¨™æº–æ•¬è«‹åƒè€ƒå¦‚ä¸‹ï¼š</p>
        <p>
          <strong>æœ¬æ ¡äººå“¡æ”¶è²»æ¨™æº–ï¼š</strong><br>
          <a href="https://reurl.cc/4bLAjV" target="_blank">https://reurl.cc/4bLAjV</a>
        </p>
        <p>
          <strong>å¤–è³“æ”¶è²»æ¨™æº–ï¼š</strong><br>
          <a href="https://reurl.cc/NNYk45" target="_blank">https://reurl.cc/NNYk45</a>
        </p>
      </div>
    </div>
  </div>

  <div class="main-track">
    <div class="track-btn" onclick="runAndOpenCategory(this, 'category-course')">
      <span class="lane-num">2</span>
      èª²ç¨‹èˆ‡å ±å (æˆäºº/å…’ç«¥é™¸ä¸Šèª²ç¨‹)
    </div>
    <div id="category-course" class="sub-menu-panel">
      <div class="sub-question" onclick="toggleAnswer(this)">æ³³æ± ç›¸é—œèª²ç¨‹å•é¡Œ?</div>
      <div class="sub-answer">
        <p>ç›®å‰æ³³æ± èª²ç¨‹æ­£åœ¨æ•´åˆä¸­ï¼Œ æš«ç„¡è©³ç´°å ±åè³‡è¨Šï¼Œé€ æˆä¸ä¾¿æ•¬è«‹è¦‹è«’ã€‚<br>
        æ³³æ± è©³ç´°èª²ç¨‹è³‡è¨Šè«‹ç›´æ¥è‡´é›»ï¼š(02) 27399118#åˆ†æ©Ÿ2272ï¼Œå°‡æœ‰å°ˆäººç‚ºæ‚¨èªªæ˜ã€‚</p>
      </div>
     <div class="sub-question" onclick="toggleAnswer(this)">TMU SPORTæˆäººå¥åº·ä¿ƒé€²èª²ç¨‹å¦‚ä½•å ±å?</div>
      <div class="sub-answer">
        <p><strong>ğŸ“… èª²ç¨‹é€±æœŸ</strong><br>
        æœ¬èª²ç¨‹ä»¥ <strong>æ¯ 2 å€‹æœˆ</strong> ç‚ºä¸€æœŸã€‚</p>
        <p><strong>ğŸ“¢ é–‹èª²è¨Šæ¯ä¸æ¼æ¥</strong><br>
        æœ€æ–°å ±åæ™‚é–“ï¼Œçš†æœƒå„ªå…ˆæ–¼ <strong>å®˜æ–¹ LINE</strong> åŠ <strong>FB ç²‰å°ˆ</strong> å…¬å‘Šï¼Œå»ºè­°æ‚¨æå‰è¿½è¹¤ã€‚</p>
        <p><strong>ğŸ“ å ±åæ–¹å¼</strong><br>
        å¾…å ±åé–‹æ”¾å¾Œï¼Œè«‹ç›´æ¥è‡³ã€Œèª²ç¨‹å ±åç³»çµ±ã€é€²è¡Œç·šä¸Šå ±åã€‚</p>
        <div class="gentle-tip" style="background-color: #e8f4fd; border-left-color: #3498db;">
          ğŸ”— <strong>ç·šä¸Šå ±åå‚³é€é–€ï¼š</strong><br>
          <a href="https://reurl.cc/2lK2Vr" target="_blank">https://reurl.cc/2lK2Vr</a>
        </div>
      </div>
     <div class="sub-question" onclick="toggleAnswer(this)">TMU KID x FUNå…’ç«¥ç‡ŸéšŠå¦‚ä½•å ±å?</div>
      <div class="sub-answer">
        <p><strong>ğŸŒŸ TMU KID x FUN</strong><br>
        é™ªæ‚¨çš„å­©å­å……å¯¦å¯’æš‘å‡ï¼æˆ‘å€‘è‡´åŠ›æ–¼æ‰“é€ å¯“æ•™æ–¼æ¨‚çš„ç‡ŸéšŠé«”é©—ã€‚</p>
        <p><strong>ğŸ“… è³‡è¨Šå…¬å¸ƒæ™‚é–“</strong><br>
        å¤ä»¤ç‡Ÿèˆ‡å†¬ä»¤ç‡Ÿè³‡è¨Šï¼Œé€šå¸¸æ–¼æ´»å‹•å‰ <strong>2~3 å€‹æœˆ</strong> å„ªå…ˆå…¬å¸ƒæ–¼ <strong>LINE å®˜æ–¹</strong> åŠ <strong>FB ç²‰å°ˆ</strong>ï¼Œåé¡æœ‰é™ï¼Œå»ºè­°ææ—©é—œæ³¨ï¼</p>
        <div class="gentle-tip" style="background-color: #fffbf0; border-left-color: #f39c12;">
          ğŸ”— <strong>ç‡ŸéšŠå ±åå‚³é€é–€ï¼š</strong><br>
          <a href="https://reurl.cc/nlm9b6" target="_blank">https://reurl.cc/nlm9b6</a>
        </div>
      </div>
      <div class="sub-question" onclick="toggleAnswer(this)">æˆ‘å¯ä»¥åŒ…ç­å—?</div>
      <div class="sub-answer">
        <p><strong>ğŸ¤ å°ˆå±¬åŒ…ç­å‹•èµ·ä¾†</strong><br>
        ç›®å‰é–‹æ”¾ <strong>TMU SPORT æˆäººå¥åº·ä¿ƒé€²èª²ç¨‹</strong> åŒ…ç­ç”³è«‹ã€‚</p>
        <p><strong>ğŸ‘¥ æ­¡è¿å°è±¡</strong><br>
        åŒ—é†«é«”ç³»æ•™è·å“¡æˆ–é†«é™¢å“¡å·¥ã€å…¬å¸ä¼æ¥­åœ˜é«”ã€ç¤¾å€é‡Œæ°‘æªåœ˜ã€‚</p>
        <div class="gentle-tip">
          <strong>ğŸ“ è©³æƒ…æ´½è©¢ï¼š</strong><br>
          ç›¸é—œç´°ç¯€æ­¡è¿ç›´æ¥æ´½è©¢ LINE å®˜æ–¹å¸³è™Ÿï¼Œæˆ–ç›´æ¥è‡´é›»ï¼š<br>
          <strong style="font-size: 1.1rem; color: #2c3e50;">(02) 2739-9118 åˆ†æ©Ÿ 2274</strong>
        </div>
      </div>
      <div class="sub-question" onclick="toggleAnswer(this)">å“ªè£¡å¯ä»¥ç²å¾—èª²ç¨‹è³‡è¨Š?</div>
      <div class="sub-answer">
        <p><strong>ğŸ“± é–å®šæœ€æ–°æ¶ˆæ¯</strong><br>
        æ­¡è¿è¿½è¹¤ä»¥ä¸‹å¹³å°ï¼Œéš¨æ™‚æŒæ¡é–‹èª²èˆ‡æ´»å‹•ç¬¬ä¸€æ‰‹è³‡è¨Šï¼</p>
        <p>
          <strong>âœ… LINE å®˜æ–¹å¸³è™Ÿ</strong><br>
          è«‹æœå°‹ IDï¼š<span style="color: #00B900; font-weight: bold; font-family: monospace; font-size: 1.1rem;">@496xevbr</span>
        </p>
        <p>
          <strong>âœ… FB ç²‰çµ²å°ˆé </strong><br>
          ğŸš€ æ–°æ´»å‹•å°ˆå±¬ç²‰å°ˆå³å°‡ä¸Šæ¶ï¼Œæ•¬è«‹æœŸå¾…ï¼
        </p>
        <div class="gentle-tip">
          <strong>â“ å¦‚æœ‰ä»»ä½•ç–‘å•</strong><br>
          æ­¡è¿ç›´æ¥ç§è¨Š LINE å®˜æ–¹å¸³è™Ÿï¼Œæˆ–è‡´é›»ï¼š<br>
          <strong style="font-size: 1.1rem; color: #2c3e50;">(02) 2739-9118 åˆ†æ©Ÿ 2274</strong>
        </div>
      </div>
    </div>
  </div>

</div>

<script>
  // 1. è·‘è€…å®šä½èˆ‡åˆ†é¡å±•é–‹ (ã€ä¿®æ”¹é‡é» 3ã€‘JS å‹•ç•«é‚è¼¯èª¿æ•´)
  function runAndOpenCategory(btn, categoryId) {
    const runner = document.getElementById('runner');
    const container = document.getElementById('stadium');
    const targetPanel = document.getElementById(categoryId);

    const containerRect = container.getBoundingClientRect();
    const btnRect = btn.getBoundingClientRect();
    const relativeTop = btnRect.top - containerRect.top;
    
    // è¨ˆç®—å‚ç›´ç½®ä¸­
    const centerOffset = (btnRect.height / 2) - (runner.offsetHeight / 2);
    const finalTop = relativeTop + centerOffset;

    // é‡ç½®å‹•ç•«èˆ‡ä½ç½®ï¼šå…ˆç¬é–“ç§»åˆ°èµ·é»ï¼Œä¸¦ä¿æŒéš±è—
    runner.style.transition = 'none';
    runner.style.top = finalTop + 'px';
    runner.style.left = '10px';
    // ç¢ºä¿ä¸€é–‹å§‹æ˜¯é€æ˜çš„ï¼Œé€™æ¨£ç­‰ä¸‹ opacity: 1 æ‰æœ‰æ·¡å…¥æ•ˆæœ
    runner.style.opacity = '0'; 

    // å¼·åˆ¶ç€è¦½å™¨é‡ç¹ª (Reflow)
    void runner.offsetWidth; 

    // é–‹å§‹è·‘æ­¥å‹•ç•«ï¼š
    // 1. left: è·‘åˆ°å³å´ 88% çš„ä½ç½® (åœåœ¨å³é‚Šæ–¹æ¡†ä¸Šæ–¹)
    // 2. opacity: å¿«é€Ÿæ·¡å…¥ (0.2s) ä¸¦ä¿æŒä¸é€æ˜ (opacity: 1)
    runner.style.transition = 'left 0.8s ease-in-out, opacity 0.2s ease-out';
    runner.style.left = '88%'; 
    runner.style.opacity = '1'; 

    // æ”¶åˆå…¶ä»–é¸å–®
    document.querySelectorAll('.sub-menu-panel').forEach(panel => {
      if(panel.id !== categoryId) panel.style.maxHeight = null;
    });

    // å±•é–‹ç›®æ¨™é¸å–®
    setTimeout(() => {
      if (targetPanel.style.maxHeight) {
        targetPanel.style.maxHeight = null;
        // å¦‚æœæ˜¯æ”¶åˆå‹•ä½œï¼Œä¹Ÿå¯ä»¥é¸æ“‡è®“è·‘è€…æ¶ˆå¤± (çœ‹éœ€æ±‚ï¼Œç›®å‰è¨­å®šæ˜¯ä¿ç•™åœ¨åŸåœ°)
        // runner.style.opacity = '0'; 
      } else {
        targetPanel.style.maxHeight = targetPanel.scrollHeight + "px";
      }
    }, 400);
  }

  // 2. ç´°é …å±•é–‹ (ä¿æŒä¸è®Š)
  function toggleAnswer(questionBtn) {
    const answerDiv = questionBtn.nextElementSibling;
    questionBtn.classList.toggle('active');

    if (answerDiv.style.maxHeight) {
      answerDiv.style.maxHeight = null;
    } else {
      answerDiv.style.maxHeight = answerDiv.scrollHeight + "px";
      
      const parentPanel = questionBtn.closest('.sub-menu-panel');
      if(parentPanel) {
         parentPanel.style.maxHeight = "none"; 
      }
    }
  }

  // 3. ç¶²å€åƒæ•¸åŠŸèƒ½ (ä¿æŒä¸è®Š)
  window.onload = function() {
    const urlParams = new URLSearchParams(window.location.search);
    const categoryKey = urlParams.get('cat'); 

    if (categoryKey) {
      let targetId = '';
      if (categoryKey === 'venue') targetId = 'category-venue';
      if (categoryKey === 'course') targetId = 'category-course';

      if (targetId) {
        const targetPanel = document.getElementById(targetId);
        const btn = targetPanel.parentElement.querySelector('.track-btn');
        if (btn) {
          setTimeout(() => {
            runAndOpenCategory(btn, targetId);
          }, 500);
        }
      }
    }
  };
</script>

</body>
</html>
